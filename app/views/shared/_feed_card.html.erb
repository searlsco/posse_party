<%
  # Required locals: feed
  # Optional locals: clickable (default: true), show_status (default: true), padding_class
  clickable = local_assigns.fetch(:clickable, true)
  show_status = local_assigns.fetch(:show_status, true)
  padding_class = local_assigns.fetch(:padding_class, "p-6")
  enable_hover_accent = local_assigns.fetch(:enable_hover_accent, false)
%>

<%= render "shared/card", clickable: clickable, path: clickable ? edit_feed_path(feed) : nil, padding_class: padding_class, class: "group" do %>
  <% if show_status %>
    <%= render "shared/status_badge", active: feed.active? %>
  <% end %>
  <div class="flex-1 min-w-0">
    <div class="flex items-center gap-3 mb-2">
      <div class="<%= card_icon_box_classes %>">
        <%= render "icons/newspaper", class: "size-5 text-accent" %>
      </div>
      <h3 class="<%= card_title_text_classes(clickable: clickable, enable_hover_accent: enable_hover_accent) %>">
        <%= feed.label %>
      </h3>
    </div>
    <p class="text-sm text-secondary mb-3 font-mono break-all">
      <%= feed.url %>
    </p>
    <div class="flex items-center gap-2 text-xs text-secondary">
      <%= render "icons/clock", class: "size-4" %>
      <% if feed.last_checked_at.present? %>
        Checked <%= time_ago_in_words feed.last_checked_at %> ago
      <% else %>
        Never checked
      <% end %>
    </div>
  </div>
<% end %>
